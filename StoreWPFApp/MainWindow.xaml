<Window x:Class="StoreWPFApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:StoreWPFApp"
        Title="Магазин" Height="600" Width="800">

	<Window.Resources>
		<Style x:Key="TextBoxWithPlaceholder" TargetType="TextBox">
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="TextBox">
						<Grid>
							<ScrollViewer Margin="0" x:Name="PART_ContentHost"/>
							<TextBlock x:Name="PlaceholderTextBlock"
                                       Text="Фильтр по названию"
                                       Foreground="Gray"
                                       Margin="5,0,0,0"
                                       VerticalAlignment="Center"
                                       IsHitTestVisible="False"
                                       Visibility="Collapsed"/>
						</Grid>
						<ControlTemplate.Triggers>
							<Trigger Property="Text" Value="">
								<Setter TargetName="PlaceholderTextBlock" Property="Visibility" Value="Visible"/>
							</Trigger>
							<Trigger Property="Text" Value="{x:Null}">
								<Setter TargetName="PlaceholderTextBlock" Property="Visibility" Value="Visible"/>
							</Trigger>
							<Trigger Property="IsEnabled" Value="False">
								<Setter TargetName="PlaceholderTextBlock" Property="Foreground" Value="LightGray"/>
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
	</Window.Resources>

	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<!-- Панель фильтрации и сортировки -->
		<StackPanel Orientation="Horizontal" Margin="10">
			<TextBox x:Name="FilterTextBox"
                     Width="200"
                     Margin="0,0,10,0"
                     Style="{StaticResource TextBoxWithPlaceholder}"/>
			<ComboBox x:Name="SortComboBox" Width="150" Margin="0,0,10,0">
				<ComboBoxItem Content="Сортировать по названию"/>
				<ComboBoxItem Content="Сортировать по цене"/>
			</ComboBox>
			<Button Content="Применить" Click="ApplyFilterSort_Click"/>
		</StackPanel>

		<!-- Таблица товаров -->
		<DataGrid x:Name="ItemsDataGrid" Grid.Row="1" AutoGenerateColumns="False" Margin="10">
			<DataGrid.Columns>
				<DataGridTextColumn Header="Название" Binding="{Binding Name}"/>
				<DataGridTextColumn Header="Количество" Binding="{Binding Quantity}"/>
				<DataGridTextColumn Header="Цена" Binding="{Binding Price}"/>
				<DataGridTextColumn Header="Тип управления" Binding="{Binding TypeOfManagement}"/>
			</DataGrid.Columns>
		</DataGrid>

		<!-- Панель сводной информации -->
		<StackPanel Orientation="Horizontal" Grid.Row="2" Margin="10">
			<Button Content="Общая стоимость" Click="TotalPrice_Click" Margin="0,0,10,0"/>
			<Button Content="Количество товаров" Click="ItemCount_Click"/>
		</StackPanel>
	</Grid>
</Window>
